"use strict";(self["webpackChunk_3dcourses"]=self["webpackChunk_3dcourses"]||[]).push([[111],{7111:function(r,s,o){o.r(s),o.d(s,{default:function(){return f}});var i=o(3396),t=o(7139),e=o(9242);const a={class:"register"},h={class:"register-form"},n={key:0,class:"form-error"},d={class:"register-form-btns"};function l(r,s,o,l,m,w){return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",h,[(0,i.wy)((0,i._)("input",{class:(0,t.C_)({error_border:r.isEmailError}),placeholder:"Почта",type:"text","onUpdate:modelValue":s[0]||(s[0]=s=>r.email=s)},null,2),[[e.nr,r.email,void 0,{trim:!0}]]),(0,i.wy)((0,i._)("input",{class:(0,t.C_)({error_border:r.isNameError}),placeholder:"Имя",type:"text","onUpdate:modelValue":s[1]||(s[1]=s=>r.name=s)},null,2),[[e.nr,r.name,void 0,{trim:!0}]]),(0,i.wy)((0,i._)("input",{class:(0,t.C_)({error_border:r.isPasswordError}),placeholder:"Пароль",type:"password","onUpdate:modelValue":s[2]||(s[2]=s=>r.password=s)},null,2),[[e.nr,r.password,void 0,{trim:!0}]]),(0,i.wy)((0,i._)("input",{class:(0,t.C_)({error_border:r.isConfirmPasswordError}),placeholder:"Подтвердите пароль",type:"password","onUpdate:modelValue":s[3]||(s[3]=s=>r.confirm_password=s)},null,2),[[e.nr,r.confirm_password,void 0,{trim:!0}]]),r.error?((0,i.wg)(),(0,i.iD)("h3",n,(0,t.zw)(r.error),1)):(0,i.kq)("",!0),(0,i._)("div",d,[(0,i._)("button",{class:"register-btn",onClick:s[4]||(s[4]=r=>w.goToRegister())}," Зарегистрироваться "),(0,i._)("div",{class:"registration-btn",onClick:s[5]||(s[5]=r=>w.goToLogin())}," Уже есть аккаунт? Войдите ")])])])}o(7658);var m=o(4161),w=o(9028),c={data:()=>({email:"",password:"",confirm_password:"",name:"",isEmailError:!1,isPasswordError:!1,isConfirmPasswordError:!1,isNameError:!1,error:""}),methods:{registerValidate(){const r=/^\w+@\w+\.[A-Za-z]+$/,s=/^[А-Яа-я]+|[A-Za-z]+$/;if(!this.email&&!this.password)throw this.isEmailError=!0,this.isPasswordError=!0,this.error="Пожалуйста, введите почту и пароль",new Error("Пожалуйста, введите почту и пароль");if(!this.email)throw this.isEmailError=!0,this.error="Пожалуйста, введите почту",new Error("Пожалуйста, введите почту");if(!r.test(this.email))throw this.isEmailError=!0,this.error="Почта введена некорректно",new Error("Почта введена некорректно");if(!this.name)throw this.isNameError=!0,this.error="Введите имя",new Error("Введите имя");if(!s.test(this.name))throw this.isNameError=!0,this.error="Введите имя без пробелов и цифр",new Error("Введите имя без пробелов и цифр");if(!this.password)throw this.isPasswordError=!0,this.error="Пожалуйста, введите пароль",new Error("Пожалуйста, введите пароль");if(this.password.length<6)throw this.isPasswordError=!0,this.error="Пароль не может быть меньше 6-ти символов",new Error("Пароль не может быть меньше 6-ти символов");if(!this.confirm_password)throw this.isConfirmPasswordError=!0,this.error="Введите подтверждение пароля",new Error("Введите имя");if(this.password!==this.confirm_password)throw this.isConfirmPasswordError=!0,this.error="Пароли не совпадают",new Error("Пароли не совпадают")},async goToRegister(){this.isEmailError=!1,this.isPasswordError=!1,this.isConfirmPasswordError=!1,this.isNameError=!1,this.error="";try{this.registerValidate()}catch(r){throw new Error("Проверка не пройдена")}try{const r=await m.Z.post(w.b+"/register",{email:this.email,password:this.password,name:this.name});console.log(r.data),"Ошибка"===r.data?.message?(this.isEmailError=!0,this.isPasswordError=!0,this.isConfirmPasswordError=!0,this.isNameError=!0,this.error="Пользователь с таким email уже зарегистрирован"):(this.$store.commit("setId",r.data.id),this.$store.commit("setName",this.name),this.$store.commit("setEmail",this.email),window.localStorage.setItem("auth",r.data.id),this.$router.push("/"))}catch(r){console.log(r)}},goToLogin(){this.$router.push("login")}}},E=o(89);const p=(0,E.Z)(c,[["render",l],["__scopeId","data-v-218fbeb4"]]);var f=p}}]);
//# sourceMappingURL=111.c357ee62.js.map