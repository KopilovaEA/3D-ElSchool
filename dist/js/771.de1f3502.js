"use strict";(self["webpackChunk_3dcourses"]=self["webpackChunk_3dcourses"]||[]).push([[771],{7107:function(t,s,e){e.d(s,{Z:function(){return u}});var a=e(3396);const i=t=>((0,a.dD)("data-v-09c0247d"),t=t(),(0,a.Cn)(),t),l={class:"home_bg"},n=i((()=>(0,a._)("div",{class:"home_bg_image"},[(0,a._)("div",{class:"home_image_rect"},[(0,a._)("p",{style:{"font-size":"32px"}},"Ведущая в России Онлайн школа"),(0,a._)("p",{class:"text"}," Электронный курс по обучению 3D-моделированию в Blender ")])],-1))),o=[n];function c(t,s,e,i,n,c){return(0,a.wg)(),(0,a.iD)("div",l,o)}var d={},r=e(89);const p=(0,r.Z)(d,[["render",c],["__scopeId","data-v-09c0247d"]]);var u=p},1992:function(t,s,e){e.r(s),e.d(s,{default:function(){return M}});e(7658);var a=e(3396),i=e(9242),l=e(7139),n=e.p+"img/Profile.b6bc49dd.png";const o=t=>((0,a.dD)("data-v-08ba287e"),t=t(),(0,a.Cn)(),t),c={class:"profile"},d=o((()=>(0,a._)("h1",null,"Профиль",-1))),r={class:"profile_contain"},p=o((()=>(0,a._)("img",{class:"profile_image",src:n,alt:"profilee"},null,-1))),u={class:"profile_inputs"},m={class:"text"},h=o((()=>(0,a._)("p",{class:"profile_input_label"},"Имя:",-1))),_=["placeholder"],w=o((()=>(0,a._)("svg",{class:"svg_style",width:"22",height:"22",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"blue"},[(0,a._)("path",{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"})],-1))),g=[w],v={class:"text"},f=o((()=>(0,a._)("p",{class:"profile_input_label"},"Почта:",-1))),b=["placeholder"],y=o((()=>(0,a._)("svg",{class:"svg_style",width:"22",height:"22",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"blue"},[(0,a._)("path",{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"})],-1))),$=[y],x={class:"text"},k=o((()=>(0,a._)("p",{class:"profile_input_label"},"Пароль:",-1))),Z=o((()=>(0,a._)("svg",{class:"svg_style",width:"22",height:"22",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"blue"},[(0,a._)("path",{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"})],-1))),C=[Z],z=o((()=>(0,a._)("h2",null,"Курсы:",-1))),D={class:"table"},B=o((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Тип"),(0,a._)("th",null,"Название"),(0,a._)("th",null,"Описание")])],-1)));function I(t,s,e,n,o,w){const y=(0,a.up)("TopBanner");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(y),(0,a._)("div",c,[d,(0,a._)("div",r,[p,(0,a._)("div",u,[(0,a._)("div",m,[h,(0,a.wy)((0,a._)("input",{class:"profile_input","onUpdate:modelValue":s[0]||(s[0]=s=>t.inputs.name=s),placeholder:t.state.name,type:"text"},null,8,_),[[i.nr,t.inputs.name]]),(0,a._)("div",{class:"profile_edit_btn",onClick:s[1]||(s[1]=(...t)=>w.changeName&&w.changeName(...t))},g)]),(0,a._)("div",v,[f,(0,a.wy)((0,a._)("input",{class:"profile_input","onUpdate:modelValue":s[2]||(s[2]=s=>t.inputs.email=s),placeholder:t.state.email,type:"text"},null,8,b),[[i.nr,t.inputs.email]]),(0,a._)("div",{class:"profile_edit_btn",onClick:s[3]||(s[3]=(...t)=>w.changeEmail&&w.changeEmail(...t))},$)]),(0,a._)("div",x,[k,(0,a.wy)((0,a._)("input",{class:"profile_input","onUpdate:modelValue":s[4]||(s[4]=s=>t.inputs.password=s),type:"password"},null,512),[[i.nr,t.inputs.password]]),(0,a._)("div",{class:"profile_edit_btn",onClick:s[5]||(s[5]=(...t)=>w.changePassword&&w.changePassword(...t))},C)])])]),t.isAdmin?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"admin_btn",onClick:s[6]||(s[6]=s=>t.$router.push("/admin"))}," Админ-панель ")):(0,a.kq)("",!0),z,(0,a._)("table",D,[B,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.courses,(t=>((0,a.wg)(),(0,a.iD)("tr",{key:t.id},[(0,a._)("td",null,(0,l.zw)("pay"===t.type?"Платный":"Бесплатный"),1),(0,a._)("td",null,(0,l.zw)(t.title),1),(0,a._)("td",null,(0,l.zw)(t.description),1)])))),128))])]),(0,a._)("button",{class:"profile_exit_btn",onClick:s[7]||(s[7]=(...t)=>w.logout&&w.logout(...t))},"Выйти")])],64)}var A=e(7107),E=e(4161),N=e(9028),P={name:"CoursesView",components:{TopBanner:A.Z},data:()=>({state:{id:null,name:"",email:""},inputs:{email:"",name:"",password:""},courses:null,isAdmin:!1}),methods:{logout(){this.$store.commit("setId",null),this.$store.commit("setName",""),this.$store.commit("setEmail",""),window.localStorage.removeItem("auth"),this.$router.push("/")},async changeName(){const t=/^[А-Яа-я]+|[A-Za-z]+$/;if(this.inputs.name&&t.test(this.inputs.name))try{const t=await E.Z.post(N.b+"/name",{name:this.inputs.name,id:this.state.id});console.log(t.data)}catch(s){console.log(s)}},async changeEmail(){const t=/^(\w+|\w+(.|_)*\w+)@\w+\.[A-Za-z]+$/;if(this.inputs.email&&t.test(this.inputs.email))try{const t=await E.Z.post(N.b+"/email",{email:this.inputs.email,id:this.state.id});console.log(t.data)}catch(s){console.log(s)}},async changePassword(){if(this.inputs.password.length>=6)try{const t=await E.Z.post(N.b+"/password",{password:this.inputs.password,id:this.state.id});console.log(t.data)}catch(t){console.log(t)}}},async mounted(){let t=await E.Z.post(N.b+"/user",{id:window.localStorage.getItem("auth")});console.log("@Profile",t.data),t.data?.message||(this.$store.commit("setId",t.data.id),this.$store.commit("setName",t.data.name),this.$store.commit("setEmail",t.data.email),this.$store.commit("setRole",t.data.role)),this.state.name=this.$store.state.name,this.state.email=this.$store.state.email,this.state.id=this.$store.state.id,this.isAdmin="admin"===this.$store.state.role,t=await E.Z.post(N.b+"/courses",{user_id:this.state.id}),this.courses=t.data}},V=e(89);const L=(0,V.Z)(P,[["render",I],["__scopeId","data-v-08ba287e"]]);var M=L}}]);
//# sourceMappingURL=771.de1f3502.js.map