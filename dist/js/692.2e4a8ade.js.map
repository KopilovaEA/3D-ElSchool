{"version":3,"file":"js/692.2e4a8ade.js","mappings":"2MACOA,MAAM,S,GACJA,MAAM,c,SAaLA,MAAM,c,GACLA,MAAM,mB,0CAffC,EAAAA,EAAAA,IAsBM,MAtBNC,EAsBM,EArBJC,EAAAA,EAAAA,GAoBM,MApBNC,EAoBM,WAnBJD,EAAAA,EAAAA,GAKE,SAJCH,OAAK,SAAAK,YAAiBC,EAAAA,eACvBC,YAAY,QACZC,KAAK,O,qCACSF,EAAAA,MAAK,I,eAALA,EAAAA,WAAK,G,MAAnB,OAAoB,SAEtBH,EAAAA,EAAAA,GAKE,SAJCH,OAAK,SAAAS,eAAoBH,EAAAA,kBAC1BC,YAAY,SACZC,KAAK,W,qCACSF,EAAAA,SAAQ,I,eAARA,EAAAA,cAAQ,G,MAAtB,MAE2BA,EAAAA,QAAK,WAAlCL,EAAAA,EAAAA,IAAoD,KAApDS,GAAoD,QAAbJ,EAAAA,OAAK,qBAC5CH,EAAAA,EAAAA,GAKM,MALNQ,EAKM,EAJJR,EAAAA,EAAAA,GAA6D,UAArDH,MAAM,YAAaY,QAAK,eAAEC,EAAAA,cAAa,UAC/CV,EAAAA,EAAAA,GAEM,OAFDH,MAAM,mBAAoBY,QAAK,eAAEC,EAAAA,qBAAoB,6C,iCAWlE,GACEC,KAAM,KAAM,CACVC,MAAO,GACPC,SAAU,GACVC,cAAc,EACdC,iBAAiB,EACjBC,MAAO,KAETC,QAAS,CACPC,gBACE,MAAMC,EAAQ,sCAEd,IAAKC,KAAKR,QAAUQ,KAAKP,SAIvB,MAHAO,KAAKN,cAAe,EACpBM,KAAKL,iBAAkB,EACvBK,KAAKJ,MAAQ,qCACP,IAAIK,MAAM,sCACX,IAAKD,KAAKR,MAGf,MAFAQ,KAAKN,cAAe,EACpBM,KAAKJ,MAAQ,4BACP,IAAIK,MAAM,6BACX,IAAKD,KAAKP,SAGf,MAFAO,KAAKN,cAAe,EACpBM,KAAKJ,MAAQ,6BACP,IAAIK,MAAM,8BACX,IAAKF,EAAMG,KAAKF,KAAKR,OAG1B,MAFAQ,KAAKN,cAAe,EACpBM,KAAKJ,MAAQ,4BACP,IAAIK,MAAM,6BACX,GAAID,KAAKP,SAASU,OAAS,EAGhC,MAFAH,KAAKL,iBAAkB,EACvBK,KAAKJ,MAAQ,4CACP,IAAIK,MAAM,4CAEpB,EACAG,kBACEJ,KAAKN,cAAe,EACpBM,KAAKL,iBAAkB,EACvBK,KAAKJ,MAAQ,GAEb,IACEI,KAAKF,eACP,CAAE,MAAOO,GACP,MAAM,IAAIJ,MAAM,uBAClB,CAEA,IACE,MAAMK,QAAiBC,EAAAA,EAAAA,KAAWC,EAAAA,EAAM,SAAU,CAChDC,MAAOT,KAAKR,MACZC,SAAUO,KAAKP,WAGjBiB,QAAQC,IAAIL,EAASf,MAEU,WAA3Be,EAASf,MAAMqB,SACjBZ,KAAKN,cAAe,EACpBM,KAAKL,iBAAkB,EACvBK,KAAKJ,MAAQ,6CAEbI,KAAKa,OAAOC,OAAO,QAASR,EAASf,KAAKwB,IAC1Cf,KAAKa,OAAOC,OAAO,UAAWR,EAASf,KAAKyB,MAC5ChB,KAAKa,OAAOC,OAAO,WAAYR,EAASf,KAAKkB,OAC7CQ,OAAOC,aAAaC,QAAQ,OAAQb,EAASf,KAAKwB,IAClDf,KAAKoB,QAAQC,KAAK,KAEtB,CAAE,MAAOhB,GACPK,QAAQC,IAAIN,EACd,CACF,EACAiB,mBACEtB,KAAKoB,QAAQC,KAAK,eACpB,I,QC7FJ,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://3dcourses/./src/views/LoginView.vue","webpack://3dcourses/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\n  <div class=\"login\">\n    <div class=\"login-form\">\n      <input\n        :class=\"{ login_error: isLoginError }\"\n        placeholder=\"Почта\"\n        type=\"text\"\n        v-model.trim=\"login\"\n      />\n      <input\n        :class=\"{ password_error: isPasswordError }\"\n        placeholder=\"Пароль\"\n        type=\"password\"\n        v-model.trim=\"password\"\n      />\n      <h3 class=\"form-error\" v-if=\"error\">{{ error }}</h3>\n      <div class=\"login-form-btns\">\n        <button class=\"login-btn\" @click=\"goToLogin()\">Войти</button>\n        <div class=\"registration-btn\" @click=\"goToRegistration()\">\n          Ещё нет профиля? Зарегистрируйтесь\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { API } from \"@/http/index.js\";\nexport default {\n  data: () => ({\n    login: \"\",\n    password: \"\",\n    isLoginError: false,\n    isPasswordError: false,\n    error: \"\",\n  }),\n  methods: {\n    loginValidate() {\n      const regex = /^(\\w+|\\w+(.|_)*\\w+)@\\w+\\.[A-Za-z]+$/;\n\n      if (!this.login && !this.password) {\n        this.isLoginError = true;\n        this.isPasswordError = true;\n        this.error = \"Пожалуйста, введите почту и пароль\";\n        throw new Error(\"Пожалуйста, введите почту и пароль\");\n      } else if (!this.login) {\n        this.isLoginError = true;\n        this.error = \"Пожалуйста, введите почту\";\n        throw new Error(\"Пожалуйста, введите почту\");\n      } else if (!this.password) {\n        this.isLoginError = true;\n        this.error = \"Пожалуйста, введите пароль\";\n        throw new Error(\"Пожалуйста, введите пароль\");\n      } else if (!regex.test(this.login)) {\n        this.isLoginError = true;\n        this.error = \"Почта введена некорректно\";\n        throw new Error(\"Почта введена некорректно\");\n      } else if (this.password.length < 6) {\n        this.isPasswordError = true;\n        this.error = \"Пароль не может быть меньше 6-ти символов\";\n        throw new Error(\"Пароль не может быть меньше 6-ти символов\");\n      }\n    },\n    async goToLogin() {\n      this.isLoginError = false;\n      this.isPasswordError = false;\n      this.error = \"\";\n\n      try {\n        this.loginValidate();\n      } catch (e) {\n        throw new Error(\"Проверка не пройдена\");\n      }\n\n      try {\n        const response = await axios.post(API + \"/login\", {\n          email: this.login,\n          password: this.password,\n        });\n\n        console.log(response.data);\n\n        if (response.data?.message === \"Ошибка\") {\n          this.isLoginError = true;\n          this.isPasswordError = true;\n          this.error = \"Пользователя с такими данными не найдено\";\n        } else {\n          this.$store.commit(\"setId\", response.data.id);\n          this.$store.commit(\"setName\", response.data.name);\n          this.$store.commit(\"setEmail\", response.data.email);\n          window.localStorage.setItem(\"auth\", response.data.id);\n          this.$router.push(\"/\");\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    },\n    goToRegistration() {\n      this.$router.push(\"registration\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n.login {\n  padding: 40px;\n  max-width: 400px;\n  margin: auto;\n  min-height: calc(100vh - 50px - 80px);\n}\n.login-form {\n  z-index: 2;\n  width: calc(var(--index) * 24);\n  height: auto;\n  border-radius: 50px;\n  background: #ffffff3d;\n  backdrop-filter: blur(6px);\n  box-shadow: 0 2px 32px 0 #5672ff5e;\n  border: 1px solid #ffffff8c;\n  padding: 40px;\n  transition: all 0.3s ease;\n\n  display: flex;\n  flex-direction: column;\n  gap: 30px;\n}\ninput,\n.login-btn {\n  border-radius: 15px;\n  font-size: calc(var(--index) * 1.5);\n  background: none;\n  border: 1px solid #636161;\n  padding: 4px 8px;\n  text-align: center;\n  transition: all 0.3s ease;\n}\n\ninput:focus {\n  box-shadow: 0 2px 16px 0 #ffffff5e;\n}\ninput:focus::placeholder {\n  color: transparent;\n}\n\n.login-form-btns {\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n.login-btn {\n  width: 40%;\n  align-self: center;\n  cursor: pointer;\n  border-color: #818181;\n  color: black;\n}\n.login-btn:hover {\n  background: linear-gradient(\n    120deg,\n    rgb(161, 88, 174),\n    rgb(208, 130, 222),\n    rgba(208, 130, 222, 0.807)\n  );\n}\n\n.registration-btn {\n  font-size: calc(var(--index) * 1);\n  width: calc(var(--index) * 5.8);\n  align-self: center;\n  color: var(--vt-c-white-mute);\n  cursor: pointer;\n}\n.registration-btn:hover {\n  text-decoration: underline;\n  text-underline-offset: 4px;\n}\n.form-error {\n  color: rgba(255, 0, 0, 0.707);\n  text-align: center;\n  margin: 0;\n}\n\n.login_error,\n.password_error {\n  border-color: rgba(255, 0, 0, 0.707);\n  border-width: 2px;\n}\n\n@media screen and (min-width: 1050px) {\n  .login {\n    font-size: 28px;\n    max-width: 700px;\n  }\n\n  .login-btn {\n    width: 300px;\n  }\n  .registration-btn {\n    font-size: 22px;\n    padding: 10px;\n  }\n}\n</style>\n","import { render } from \"./LoginView.vue?vue&type=template&id=56c84b22&scoped=true\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=56c84b22&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Acer\\\\OneDrive\\\\Рабочий стол\\\\Новая папка\\\\Курсовая\\\\mysite\\\\3DElSchool\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-56c84b22\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","login_error","_ctx","placeholder","type","password_error","_hoisted_3","_hoisted_4","onClick","$options","data","login","password","isLoginError","isPasswordError","error","methods","loginValidate","regex","this","Error","test","length","async","e","response","axios","API","email","console","log","message","$store","commit","id","name","window","localStorage","setItem","$router","push","goToRegistration","__exports__","render"],"sourceRoot":""}