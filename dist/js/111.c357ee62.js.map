{"version":3,"file":"js/111.c357ee62.js","mappings":"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","sources":["webpack://3dcourses/./src/views/RegisterView.vue","webpack://3dcourses/./src/views/RegisterView.vue?1ec6"],"sourcesContent":["<template>\n  <div class=\"register\">\n    <div class=\"register-form\">\n      <input\n        :class=\"{ error_border: isEmailError }\"\n        placeholder=\"Почта\"\n        type=\"text\"\n        v-model.trim=\"email\"\n      />\n      <input\n        :class=\"{ error_border: isNameError }\"\n        placeholder=\"Имя\"\n        type=\"text\"\n        v-model.trim=\"name\"\n      />\n      <input\n        :class=\"{ error_border: isPasswordError }\"\n        placeholder=\"Пароль\"\n        type=\"password\"\n        v-model.trim=\"password\"\n      />\n      <input\n        :class=\"{ error_border: isConfirmPasswordError }\"\n        placeholder=\"Подтвердите пароль\"\n        type=\"password\"\n        v-model.trim=\"confirm_password\"\n      />\n      <h3 class=\"form-error\" v-if=\"error\">{{ error }}</h3>\n      <div class=\"register-form-btns\">\n        <button class=\"register-btn\" @click=\"goToRegister()\">\n          Зарегистрироваться\n        </button>\n        <div class=\"registration-btn\" @click=\"goToLogin()\">\n          Уже есть аккаунт? Войдите\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { API } from \"@/http/index.js\";\nexport default {\n  data: () => ({\n    email: \"\",\n    password: \"\",\n    confirm_password: \"\",\n    name: \"\",\n    isEmailError: false,\n    isPasswordError: false,\n    isConfirmPasswordError: false,\n    isNameError: false,\n    error: \"\",\n  }),\n  methods: {\n    registerValidate() {\n      const regexEmail = /^\\w+@\\w+\\.[A-Za-z]+$/;\n      const regexName = /^[А-Яа-я]+|[A-Za-z]+$/;\n\n      if (!this.email && !this.password) {\n        this.isEmailError = true;\n        this.isPasswordError = true;\n        this.error = \"Пожалуйста, введите почту и пароль\";\n        throw new Error(\"Пожалуйста, введите почту и пароль\");\n      } else if (!this.email) {\n        this.isEmailError = true;\n        this.error = \"Пожалуйста, введите почту\";\n        throw new Error(\"Пожалуйста, введите почту\");\n      } else if (!regexEmail.test(this.email)) {\n        this.isEmailError = true;\n        this.error = \"Почта введена некорректно\";\n        throw new Error(\"Почта введена некорректно\");\n      } else if (!this.name) {\n        this.isNameError = true;\n        this.error = \"Введите имя\";\n        throw new Error(\"Введите имя\");\n      } else if (!regexName.test(this.name)) {\n        this.isNameError = true;\n        this.error = \"Введите имя без пробелов и цифр\";\n        throw new Error(\"Введите имя без пробелов и цифр\");\n      } else if (!this.password) {\n        this.isPasswordError = true;\n        this.error = \"Пожалуйста, введите пароль\";\n        throw new Error(\"Пожалуйста, введите пароль\");\n      } else if (this.password.length < 6) {\n        this.isPasswordError = true;\n        this.error = \"Пароль не может быть меньше 6-ти символов\";\n        throw new Error(\"Пароль не может быть меньше 6-ти символов\");\n      } else if (!this.confirm_password) {\n        this.isConfirmPasswordError = true;\n        this.error = \"Введите подтверждение пароля\";\n        throw new Error(\"Введите имя\");\n      } else if (this.password !== this.confirm_password) {\n        this.isConfirmPasswordError = true;\n        this.error = \"Пароли не совпадают\";\n        throw new Error(\"Пароли не совпадают\");\n      }\n    },\n    async goToRegister() {\n      this.isEmailError = false;\n      this.isPasswordError = false;\n      this.isConfirmPasswordError = false;\n      this.isNameError = false;\n      this.error = \"\";\n\n      try {\n        this.registerValidate();\n      } catch (e) {\n        throw new Error(\"Проверка не пройдена\");\n      }\n\n      try {\n        const response = await axios.post(API + \"/register\", {\n          email: this.email,\n          password: this.password,\n          name: this.name,\n        });\n\n        console.log(response.data);\n\n        if (response.data?.message === \"Ошибка\") {\n          this.isEmailError = true;\n          this.isPasswordError = true;\n          this.isConfirmPasswordError = true;\n          this.isNameError = true;\n          this.error = \"Пользователь с таким email уже зарегистрирован\";\n        } else {\n          this.$store.commit(\"setId\", response.data.id);\n          this.$store.commit(\"setName\", this.name);\n          this.$store.commit(\"setEmail\", this.email);\n          window.localStorage.setItem(\"auth\", response.data.id);\n          this.$router.push(\"/\");\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    },\n    goToLogin() {\n      this.$router.push(\"login\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n.register {\n  padding: 40px;\n  max-width: 400px;\n  margin: auto;\n  min-height: calc(100vh - 50px - 80px);\n}\n.register-form {\n  z-index: 2;\n  width: calc(var(--index) * 24);\n  height: auto;\n  border-radius: 50px;\n  background: #ffffff3d;\n  backdrop-filter: blur(6px);\n  box-shadow: 0 2px 32px 0 #5672ff5e;\n  border: 1px solid #ffffff8c;\n  padding: 40px;\n  transition: all 0.3s ease;\n\n  display: flex;\n  flex-direction: column;\n  gap: 30px;\n}\ninput,\n.register-btn {\n  border-radius: 15px;\n  font-size: calc(var(--index) * 1.5);\n  background: none;\n  border: 1px solid #636161;\n  padding: 4px 8px;\n  text-align: center;\n  transition: all 0.3s ease;\n}\n\ninput:focus {\n  box-shadow: 0 2px 16px 0 #ffffff5e;\n}\ninput:focus::placeholder {\n  color: transparent;\n}\n\n.register-form-btns {\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n.register-btn {\n  width: 80%;\n  align-self: center;\n  cursor: pointer;\n  border-color: #818181;\n  color: black;\n  overflow: hidden;\n}\n.register-btn:hover {\n  background: linear-gradient(\n    120deg,\n    rgb(161, 88, 174),\n    rgb(208, 130, 222),\n    rgba(208, 130, 222, 0.807)\n  );\n}\n\n.registration-btn {\n  font-size: calc(var(--index) * 1);\n  width: calc(var(--index) * 5.8);\n  align-self: center;\n  color: var(--vt-c-white-mute);\n  cursor: pointer;\n}\n.registration-btn:hover {\n  text-decoration: underline;\n  text-underline-offset: 4px;\n}\n.form-error {\n  color: rgba(255, 0, 0, 0.707);\n  text-align: center;\n  margin: 0;\n}\n\n.error_border {\n  border-color: rgba(255, 0, 0, 0.707);\n  border-width: 2px;\n}\n\n@media screen and (min-width: 1050px) {\n  .register {\n    font-size: 28px;\n    max-width: 700px;\n  }\n\n  .register-btn {\n    width: 350px;\n  }\n  .registration-btn {\n    font-size: 22px;\n    padding: 10px;\n  }\n}\n</style>\n","import { render } from \"./RegisterView.vue?vue&type=template&id=218fbeb4&scoped=true\"\nimport script from \"./RegisterView.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterView.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterView.vue?vue&type=style&index=0&id=218fbeb4&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Acer\\\\OneDrive\\\\Рабочий стол\\\\Новая папка\\\\Курсовая\\\\mysite\\\\3DElSchool\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-218fbeb4\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","error_border","_ctx","placeholder","type","_hoisted_3","_hoisted_4","onClick","$options","data","email","password","confirm_password","name","isEmailError","isPasswordError","isConfirmPasswordError","isNameError","error","methods","registerValidate","regexEmail","regexName","this","Error","test","length","async","e","response","axios","API","console","log","message","$store","commit","id","window","localStorage","setItem","$router","push","goToLogin","__exports__","render"],"sourceRoot":""}