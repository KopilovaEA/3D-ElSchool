"use strict";(self["webpackChunk_3dcourses"]=self["webpackChunk_3dcourses"]||[]).push([[290],{7107:function(t,s,e){e.d(s,{Z:function(){return u}});var l=e(3396);const a=t=>((0,l.dD)("data-v-09c0247d"),t=t(),(0,l.Cn)(),t),i={class:"home_bg"},n=a((()=>(0,l._)("div",{class:"home_bg_image"},[(0,l._)("div",{class:"home_image_rect"},[(0,l._)("p",{style:{"font-size":"32px"}},"Ведущая в России Онлайн школа"),(0,l._)("p",{class:"text"}," Электронный курс по обучению 3D-моделированию в Blender ")])],-1))),o=[n];function c(t,s,e,a,n,c){return(0,l.wg)(),(0,l.iD)("div",i,o)}var d={},p=e(89);const r=(0,p.Z)(d,[["render",c],["__scopeId","data-v-09c0247d"]]);var u=r},5407:function(t,s,e){e.r(s),e.d(s,{default:function(){return U}});e(7658);var l=e(3396),a=e(9242),i=e(7139),n=e.p+"img/Profile.b6bc49dd.png";const o=t=>((0,l.dD)("data-v-06d5e784"),t=t(),(0,l.Cn)(),t),c={class:"profile"},d=o((()=>(0,l._)("h1",null,"Профиль",-1))),p={class:"profile_contain"},r=o((()=>(0,l._)("img",{class:"profile_image",src:n,alt:"profilee"},null,-1))),u={class:"profile_inputs"},_={class:"text"},h=o((()=>(0,l._)("p",{class:"profile_input_label"},"Имя:",-1))),m=["placeholder"],w=o((()=>(0,l._)("svg",{class:"svg_style",width:"22",height:"22",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"blue"},[(0,l._)("path",{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"})],-1))),g=[w],v={class:"text"},f=o((()=>(0,l._)("p",{class:"profile_input_label"},"Почта:",-1))),b=["placeholder"],y=o((()=>(0,l._)("svg",{class:"svg_style",width:"22",height:"22",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"blue"},[(0,l._)("path",{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"})],-1))),x=[y],k={class:"text"},$=o((()=>(0,l._)("p",{class:"profile_input_label"},"Пароль:",-1))),C=o((()=>(0,l._)("svg",{class:"svg_style",width:"22",height:"22",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"blue"},[(0,l._)("path",{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"})],-1))),Z=[C],z=o((()=>(0,l._)("h2",null,"Курсы:",-1))),D={class:"table"},B=o((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Тип"),(0,l._)("th",null,"Название"),(0,l._)("th",null,"Описание")])],-1)));function E(t,s,e,n,o,w){const y=(0,l.up)("TopBanner");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(y),(0,l._)("div",c,[d,(0,l._)("div",p,[r,(0,l._)("div",u,[(0,l._)("div",_,[h,(0,l.wy)((0,l._)("input",{class:"profile_input","onUpdate:modelValue":s[0]||(s[0]=s=>t.inputs.name=s),placeholder:t.state.name,type:"text"},null,8,m),[[a.nr,t.inputs.name]]),(0,l._)("div",{class:"profile_edit_btn",onClick:s[1]||(s[1]=(...t)=>w.changeName&&w.changeName(...t))},g)]),(0,l._)("div",v,[f,(0,l.wy)((0,l._)("input",{class:"profile_input","onUpdate:modelValue":s[2]||(s[2]=s=>t.inputs.email=s),placeholder:t.state.email,type:"text"},null,8,b),[[a.nr,t.inputs.email]]),(0,l._)("div",{class:"profile_edit_btn",onClick:s[3]||(s[3]=(...t)=>w.changeEmail&&w.changeEmail(...t))},x)]),(0,l._)("div",k,[$,(0,l.wy)((0,l._)("input",{class:"profile_input","onUpdate:modelValue":s[4]||(s[4]=s=>t.inputs.password=s),type:"password"},null,512),[[a.nr,t.inputs.password]]),(0,l._)("div",{class:"profile_edit_btn",onClick:s[5]||(s[5]=(...t)=>w.changePassword&&w.changePassword(...t))},Z)])])]),"admin"===t.$store.state.role?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"admin_btn",onClick:s[6]||(s[6]=s=>t.$router.push("/admin"))}," Админ-панель ")):(0,l.kq)("",!0),z,(0,l._)("table",D,[B,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.courses,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id},[(0,l._)("td",null,(0,i.zw)("pay"===t.type?"Платный":"Бесплатный"),1),(0,l._)("td",null,(0,i.zw)(t.title),1),(0,l._)("td",null,(0,i.zw)(t.description),1)])))),128))])]),(0,l._)("button",{class:"profile_exit_btn",onClick:s[7]||(s[7]=(...t)=>w.logout&&w.logout(...t))},"Выйти")])],64)}var I=e(7107),N=e(4161),P=e(9028),V={name:"CoursesView",components:{TopBanner:I.Z},data:()=>({state:{id:null,name:"",email:""},inputs:{email:"",name:"",password:""},courses:null}),methods:{logout(){this.$store.commit("setId",null),this.$store.commit("setName",""),this.$store.commit("setEmail",""),window.localStorage.removeItem("auth"),this.$router.push("/")},async changeName(){const t=/^[А-Яа-я]+|[A-Za-z]+$/;if(this.inputs.name&&t.test(this.inputs.name))try{const t=await N.Z.post(P.b+"/name",{name:this.inputs.name,id:this.state.id});console.log(t.data)}catch(s){console.log(s)}},async changeEmail(){const t=/^(\w+|\w+(.|_)*\w+)@\w+\.[A-Za-z]+$/;if(this.inputs.email&&t.test(this.inputs.email))try{const t=await N.Z.post(P.b+"/email",{email:this.inputs.email,id:this.state.id});console.log(t.data)}catch(s){console.log(s)}},async changePassword(){if(this.inputs.password.length>=6)try{const t=await N.Z.post(P.b+"/password",{password:this.inputs.password,id:this.state.id});console.log(t.data)}catch(t){console.log(t)}}},async mounted(){this.state.name=this.$store.state.name,this.state.email=this.$store.state.email,this.state.id=this.$store.state.id;const t=await N.Z.post(P.b+"/courses",{user_id:this.state.id});this.courses=t.data}},L=e(89);const M=(0,L.Z)(V,[["render",E],["__scopeId","data-v-06d5e784"]]);var U=M}}]);
//# sourceMappingURL=290.d8146011.js.map